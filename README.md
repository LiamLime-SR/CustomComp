# CustomComp
Edits a LiveSplit splits (.LSS) file to contain a custom comparison with split times based on Source28's Custom Comp algorithm.

Run the compiled CLASS file in command prompt by navigating to the file's location then typing the command "java CustomComp", followed by the full path name (whitespace is not allowed) to the splits (.LSS) file. So for example, if there exist two folders, one which contains the CLASS file and one named "Data", which contains a split file called "TestSplits.LSS", the full command would be "java CustomComp ..\Data\TestSplits.LSS". Running this command will produce another splits file with the same name as the original, but with "\_CustomComp" added to the end. So for the purpose of this example, the full file name would be "TestSplits_CustomComp.LSS". Upon opening this file with LiveSplit, a new custom comparison will be available named "Custom Comp", which contaians split times according to Source28's Custom Comp algorithm. Because the results of this algorithm are based on segment golds and the overall PB time, it's important to re-run the program on the updated splits file every time a segment gold or PB occurs.

# Run Options
Beyond the original run statement, "java CustomComp" + the splits file pathname, other arguments may be added to adjust how the program runs.

  1. Add a custom PB (in HH:MM:SS.mmm format) after the path name to have the program use that goal PB in it's calculations, rather than reading the PB in the splits file. Entering "\_generate_" for this argument will cause the PB to still be generated from the splits file. This can be used to customize later arguments while still using the default PB generation.
  2. Add a string (whitespace is not allowed) after the custom PB argument to customize the name of the custom comparison. As before, enter "\_generate_" here to have the program still use the default comparison name, "Custom Comp".
  3. Add a path name (whitespace is not allowed) after the comparison name to have the program write to a new file in this path. Enter "\_generate_" here to have the program use it's default path generation, by adding "\_CustomComp" to the end of the file name. Furthermore, enter "\_overwrite_" to have the program overwrite the original splits file from which it read.
  4. Add to the end of the arguments list, regardless of how many were used, the statement "\_debug_" to have the program output to command prompt essential data used in it's calculations.

So in line with the example before, in order to compare to a goal of 30 minutes and with a custom comparison named Goal, to overwrite the orignal splits file with this new data, and to view this data in real time through command prompt, the full run command would be "java CustomComp ..\Data\TestSplits.LSS 00:30:00.000 Goal \_overwrite_ \_debug_".

# Sorce28's Custom Comp algorithm
The algorithm used by this program was developed by Source28 (https://www.twitch.tv/source28) and ensures that the timesave over a comparisom is balanced while the end time remains equal to the runner's PB or some other desired goal time. This prevents certain splits from having large opportunity for timesave due to a significant timeloss in the runner's PB, while others remain close to gold and are therefore more likely to make the runner lose time during attempts.

The algorithm uses an overall PB time, which may be the runner's actual PB or any other desired time, as well as segment gold times. It then calculates the total amount of possible timesave over the run by subtracting the runner's SoB from their PB and then distributes that timesave by adding it to each segment's gold time such that the ratio of time added to each gold is proportional to the ratio of the original gold times. This ensures that the segment times of longer splits will always be further from gold, and therefore have more opportunity for timesave, than those of shorter splits.
